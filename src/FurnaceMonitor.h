
//FurnaceMonitor.h

#ifndef _FURNACE_H
#define _FURNACE_H
#endif

//Pick some voltages between 3.7942 and 0.4314 Volts
static const double TestVolts[10] ={
2.4353,
3.5123,
1.2363,
0.5732,
0.9234,
1.0234,
1.5623,
2.4172,
3.1923,
3.3182
};

struct VoltDegF            //Temperature Voltage pairs to construct the translation table from volts to temperature for Buderus Logamatic 2107
{
    double volts;
    int degF;
};


//Poly 4
static const VoltDegF Volts_to_DegF[] ={
4.1309,61,
4.1015,62,
4.0722,63,
4.0430,64,
4.0139,65,
3.9849,66,
3.9559,67,
3.9271,68,
3.8983,69,
3.8696,70,
3.8411,71,
3.8126,72,
3.7842,73,
3.7558,74,
3.7276,75,
3.6995,76,
3.6714,77,
3.6434,78,
3.6156,79,
3.5878,80,
3.5601,81,
3.5324,82,
3.5049,83,
3.4775,84,
3.4501,85,
3.4229,86,
3.3957,87,
3.3686,88,
3.3416,89,
3.3147,90,
3.2879,91,
3.2611,92,
3.2345,93,
3.2079,94,
3.1814,95,
3.1551,96,
3.1288,97,
3.1026,98,
3.0764,99,
3.0504,100,
3.0245,101,
2.9986,102,
2.9728,103,
2.9472,104,
2.9216,105,
2.8961,106,
2.8706,107,
2.8453,108,
2.8201,109,
2.7949,110,
2.7699,111,
2.7449,112,
2.7200,113,
2.6952,114,
2.6705,115,
2.6459,116,
2.6213,117,
2.5969,118,
2.5725,119,
2.5482,120,
2.5241,121,
2.5000,122,
2.4760,123,
2.4520,124,
2.4282,125,
2.4045,126,
2.3808,127,
2.3572,128,
2.3338,129,
2.3104,130,
2.2871,131,
2.2638,132,
2.2407,133,
2.2177,134,
2.1947,135,
2.1719,136,
2.1491,137,
2.1264,138,
2.1038,139,
2.0813,140,
2.0589,141,
2.0365,142,
2.0143,143,
1.9921,144,
1.9700,145,
1.9481,146,
1.9262,147,
1.9044,148,
1.8826,149,
1.8610,150,
1.8395,151,
1.8180,152,
1.7966,153,
1.7754,154,
1.7542,155,
1.7331,156,
1.7120,157,
1.6911,158,
1.6703,159,
1.6495,160,
1.6289,161,
1.6083,162,
1.5878,163,
1.5674,164,
1.5471,165,
1.5269,166,
1.5067,167,
1.4867,168,
1.4667,169,
1.4468,170,
1.4271,171,
1.4074,172,
1.3878,173,
1.3682,174,
1.3488,175,
1.3295,176,
1.3102,177,
1.2910,178,
1.2720,179,
1.2530,180,
1.2341,181,
1.2152,182,
1.1965,183,
1.1779,184,
1.1593,185,
1.1409,186,
1.1225,187,
1.1042,188,
1.0860,189,
1.0679,190,
1.0499,191,
1.0319,192,
1.0141,193,
0.9963,194,
0.9786,195,
0.9611,196,
0.9436,197,
0.9262,198,
0.9088,199,
0.8916,200,
0.8745,201,
0.8574,202,
0.8404,203,
0.8236,204,
0.8068,205,
0.7901,206,
0.7734,207,
0.7569,208,
0.7405,209,
0.7241,210,
0.7079,211,
0.6917,212,
0.6756,213,
0.6596,214,
0.6437,215,
0.6279,216,
0.6121,217,
0.5965,218,
0.5809,219,
0.5654,220};


//Poly 3
// static const VoltDegF Volts_to_DegF[176] ={
// 4.594392,55,
// 4.557805,56,
// 4.521374,57,
// 4.485099,58,
// 4.448980,59,
// 4.413017,60,
// 4.377210,61,
// 4.341559,62,
// 4.306064,63,
// 4.270725,64,
// 4.235542,65,
// 4.200515,66,
// 4.165644,67,
// 4.130929,68,
// 4.096370,69,
// 4.061967,70,
// 4.027720,71,
// 3.993629,72,
// 3.959694,73,
// 3.925915,74,
// 3.892292,75,
// 3.858825,76,
// 3.8255,77,
// 3.7924,78,
// 3.7594,79,
// 3.7265,80,
// 3.6938,81,
// 3.6613,82,
// 3.6289,83,
// 3.5967,84,
// 3.5646,85,
// 3.5327,86,   //[0] rdg = 3.5123
// 3.5010,87,
// 3.4694,88,
// 3.4380,89,
// 3.4067,90,
// 3.3755,91,
// 3.3446,92,
// 3.3138,93,
// 3.2831,94,
// 3.2526,95,
// 3.2222,96,
// 3.1921,97,
// 3.1620,98,
// 3.1321,99,
// 3.1024,100,
// 3.0729,101,
// 3.0434,102,
// 3.0142,103,
// 2.9851,104,
// 2.9561,105,
// 2.9274,106,
// 2.8987,107,
// 2.8702,108,
// 2.8419,109,
// 2.8138,110,
// 2.7858,111,
// 2.7579,112,
// 2.7302,113,
// 2.7027,114,
// 2.6753,115,
// 2.6481,116,
// 2.6210,117,
// 2.5941,118,
// 2.5673,119,
// 2.5407,120,
// 2.5143,121,
// 2.4880,122,
// 2.4618,123,
// 2.4359,124,
// 2.4100,125,
// 2.3844,126,
// 2.3589,127,
// 2.3335,128,
// 2.3083,129,
// 2.2833,130,
// 2.2584,131,
// 2.2336,132,
// 2.2091,133,
// 2.1847,134,
// 2.1604,135,
// 2.1363,136,
// 2.1123,137,
// 2.0885,138,
// 2.0649,139,
// 2.0414,140,
// 2.0181,141,
// 1.9949,142,
// 1.9719,143,
// 1.9490,144,
// 1.9263,145,
// 1.9038,146,
// 1.8814,147,
// 1.8592,148,
// 1.8371,149,
// 1.8152,150,
// 1.7934,151,
// 1.7718,152,
// 1.7503,153,
// 1.7290,154,
// 1.7079,155,
// 1.6869,156,
// 1.6661,157,
// 1.6454,158,
// 1.6249,159,
// 1.6045,160,
// 1.5843,161,
// 1.5643,162,
// 1.5444,163,
// 1.5246,164,
// 1.5050,165,
// 1.4856,166,
// 1.4663,167,
// 1.4472,168,
// 1.4283,169,
// 1.4095,170,
// 1.3908,171,
// 1.3723,172,
// 1.3540,173,
// 1.3358,174,
// 1.3178,175,
// 1.2999,176,
// 1.2822,177,
// 1.2647,178,
// 1.2473,179,
// 1.2300,180,
// 1.2129,181,
// 1.1960,182,
// 1.1792,183,
// 1.1626,184,
// 1.1461,185,
// 1.1298,186,
// 1.1137,187,
// 1.0977,188,
// 1.0819,189,
// 1.0662,190,
// 1.0506,191,
// 1.0353,192,
// 1.0201,193,
// 1.0050,194,
// 0.9901,195,
// 0.9753,196,
// 0.9608,197,
// 0.9463,198,
// 0.9320,199,
// 0.9179,200,
// 0.9040,201,
// 0.8901,202,
// 0.8765,203,
// 0.8630,204,
// 0.8496,205,
// 0.8365,206,
// 0.8234,207,
// 0.8105,208,
// 0.7978,209,
// 0.7853,210,
// 0.7729,211,
// 0.7606,212,
// 0.7485,213,
// 0.7366,214,
// 0.7248,215,
// 0.7132,216,
// 0.7017,217,
// 0.6904,218,
// 0.6792,219,
// 0.6682,220,
// 0.657370,221,
// 0.646679,222,
// 0.636144,223,
// 0.625765,224,
// 0.615542,225,
// 0.605475,226,
// 0.595564,227,
// 0.585809,228,
// 0.576210,229,
// 0.566767,230};



//The OLD Volt_to_DefF table was generated from the Polynomial curve fit to actual Sensor voltage readings.
//Testing showed the curve fit had too much error at the high end of the temperature range above 185 degrees.
//An additional data point was generated and a new set of coefficients generated which resulted in the new table

// //Note we would like a table with and even number of entries (asssume 76 degrees F to 220 degrees F)
// static const VoltDegF Volts_to_DegF[144] ={
// 3.7942,77,  //[0]
// 3.7628,78,
// 3.7314,79,
// 3.7002,80,
// 3.6690,81,
// 3.6380,82,
// 3.6071,83,
// 3.5763,84,
// 3.5456,85,
// 3.5150,86,  //[09]
// 3.4846,87,  //[10]
// 3.4542,88,
// 3.4240,89,
// 3.3939,90,
// 3.3639,91,
// 3.3340,92,
// 3.3042,93,
// 3.2745,94,
// 3.2449,95,
// 3.2155,96,  //[19]
// 3.1861,97,  //[20]
// 3.1569,98,
// 3.1420,99,
// 3.0890,100,
// 3.0699,101,
// 3.0360,102,
// 3.0125,103,
// 2.9780,104,
// 2.9555,105,
// 2.9310,106, //[29]
// 2.8989,107, //[30]
// 2.8860,108,
// 2.8380,109,
// 2.8149,110,
// 2.7900,111,
// 2.7595,112,
// 2.7420,113,
// 2.7045,114,
// 2.6930,115,
// 2.6500,116, //[39]
// 2.6420,117, //[40]
// 2.5900,118,
// 2.5690,119,
// 2.5370,120,
// 2.5156,121,
// 2.4820,122,
// 2.4626,123,
// 2.4370,124,
// 2.4101,125,
// 2.3930,126, //[49]
// 2.3490,127, //[50]
// 2.3322,128,
// 2.3040,129,
// 2.2808,130,
// 2.2550,131,         //54 #3
// 2.2298,132,
// 2.2120,133,
// 2.1793,134,
// 2.1670,135,
// 2.1292,136,  //[59]
// 2.1044,137,  //[60]
// 2.0796,138,
// 2.0550,139,
// 2.0305,140,
// 2.0061,141,
// 1.9818,142,
// 1.9576,143,
// 1.9335,144,
// 1.9095,145,
// 1.8857,146,  //[69]
// 1.8619,147,  //[70]
// 1.8383,148,
// 1.8148,149,     //72 #1 -----------
// 1.7914,150,
// 1.7681,151,
// 1.7449,152,
// 1.7219,153,
// 1.6989,154,
// 1.6761,155,
// 1.6533,156, //[79]
// 1.6307,157, //[80]
// 1.6082,158,
// 1.5858,159,
// 1.5635,160,
// 1.5413,161,
// 1.5193,162,
// 1.4973,163,
// 1.4755,164,
// 1.4538,165,
// 1.4322,166, //[89]
// 1.4107,167, //[90]                     //90 #3 ------------
// 1.3893,168,
// 1.3680,169,
// 1.3468,170,
// 1.3258,171,
// 1.3048,172, //[95]                                        //95 #5 -----------
// 1.2840,173, //[96]                                                          //96 #7 -----------
// 1.2633,174, //[97]                                                   //97 #6 -----------
// 1.2427,175,
// 1.2222,176, //[99]                                  //99 #4 -----------
// 1.2018,177, //[100]
// 1.1816,178,
// 1.1614,179,
// 1.1414,180,
// 1.1214,181,
// 1.1016,182,
// 1.0819,183,
// 1.0623,184,
// 1.0428,185,                //108 #2 -----------
// 1.0234,186, //[109]
// 1.0042,187, //[110]
// 0.9850,188,
// 0.9660,189,
// 0.9471,190,
// 0.9283,191,
// 0.9096,192,
// 0.8910,193,
// 0.8725,194,
// 0.8541,195,
// 0.8359,196, //[119]
// 0.8177,197, //[120]
// 0.7997,198,
// 0.7818,199,
// 0.7640,200,
// 0.7463,201,
// 0.7287,202,
// 0.7113,203,
// 0.6939,204,
// 0.6767,205,
// 0.6595,206, //[129]
// 0.6425,207, //[130]
// 0.6256,208,
// 0.6088,209,
// 0.5921,210,
// 0.5755,211,
// 0.5591,212,
// 0.5427,213,
// 0.5265,214,
// 0.5104,215,
// 0.4944,216, //[139]
// 0.4785,217, //[140]
// 0.4627,218, //[141]
// 0.4470,219, //[142]
// 0.4314,220};//[143]     // 0 to 143 =  144 entries